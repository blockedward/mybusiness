---
### Confluent Cloud Connection
##
## The following is an example inventory file of the configuration required for setting up Confluent Platform with
## all components connecting to Kafka and Schema Registry in Confluent Cloud

all:
  vars:
    ansible_connection: ssh
    ansible_user: ec2-user
    ansible_become: true
    ansible_ssh_private_key_file: /home/ec2-user/guest.pem

    # Turn on ssl for all component's rest end points
    ssl_enabled: true

    # Let cp-ansible know that Kafka is running in ccloud and how to connect
    ccloud_kafka_broker_enabled: true
    ccloud_bootstrap_servers: pkc-xxxxx.europe-west1.gcp.confluent.cloud:9092,pkc-yyyy.europe-west1.gcp.confluent.cloud:9092,pkc-zzzz.europe-west1.gcp.confluent.cloud:9092
    ccloud_key: YYYYYYYYYYYYYY
    ccloud_secret: zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz

    ccloud_schema_registry_url: https://psrc-zzzzz.europe-west3.gcp.confluent.cloud
    ccloud_schema_registry_user: AAAAAAAAAAAAAAAA
    ccloud_schema_registry_password: bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb

    kafka_connect_custom_properties:
      # CCloud SR Connection
      value.converter.basic.auth.credentials.source: USER_INFO
      value.converter.schema.registry.basic.auth.user.info: "{{ccloud_schema_registry_user}}:{{ccloud_schema_registry_password}}"
      value.converter.schema.registry.url: "{{ccloud_schema_registry_url}}"

    control_center_custom_properties:
      # CCloud SR Connection
      confluent.controlcenter.schema.registry.basic.auth.credentials.source: USER_INFO
      confluent.controlcenter.schema.registry.basic.auth.user.info: "{{ccloud_schema_registry_user}}:{{ccloud_schema_registry_password}}"
      confluent.controlcenter.schema.registry.url: "{{ccloud_schema_registry_url}}"

    ksql_custom_properties:
      # CCloud SR Connection
      schema.registry.basic.auth.credentials.source: USER_INFO
      schema.registry.basic.auth.user.info: "{{ccloud_schema_registry_user}}:{{ccloud_schema_registry_password}}"
      schema.registry.url: "{{ccloud_schema_registry_url}}"

kafka_connect:
  hosts:
    ip-10-0-0-29.eu-west-2.compute.internal:

kafka_rest:
  hosts:
    ip-10-0-0-74.eu-west-2.compute.internal:

ksql:
  hosts:
    ip-10-0-0-181.eu-west-2.compute.internal:

control_center:
  hosts:
    ip-10-0-0-237.eu-west-2.compute.internal:
